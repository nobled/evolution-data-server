
INCLUDES =						\
	-DG_LOG_DOMAIN=\"libegroupwise\"		\
	-I$(top_srcdir)					\
	-I$(top_builddir)				\
	$(SOUP_CFLAGS)					\
	$(E_DATA_SERVER_CFLAGS)

noinst_PROGRAMS = create-account soap-test 

create_account_SOURCES = create-account.c
create_account_LDADD = 						\
	$(top_builddir)/libedataserver/libedataserver-1.2.la	\
	$(SOUP_LIBS)						\
	$(E_DATA_SERVER_LIBS)

soap_test_SOURCES = soap-test.c
soap_test_LDADD = 					\
	$(SOUP_LIBS)					\
	libegroupwise-1.2.la				\
	$(E_DATA_SERVER_LIBS) 

lib_LTLIBRARIES = libegroupwise-1.2.la

libegroupwise_1_2_la_SOURCES =			\
	e-gw-connection.c			\
	e-gw-connection.h			\
	e-gw-container.c			\
	e-gw-container.h			\
	e-gw-item.c				\
	e-gw-item.h				\
	e-gw-message.c				\
	e-gw-message.h                          \
	e-gw-filter.c                           \
	e-gw-filter.h                   

libegroupwise_1_2_la_LIBADD =						\
	$(E_DATA_SERVER_LIBS)						\
	$(SOUP_LIBS)

libegroupwise_1_2_la_LDFLAGS =                                               \
        -version-info $(LIBEGROUPWISE_CURRENT):$(LIBEGROUPWISE_REVISION):$(LIBEGROUPWISE_AGE)

libegroupwiseincludedir = $(privincludedir)/groupwise

libegroupwiseinclude_HEADERS =                  \
        e-gw-connection.h                       \
	e-gw-container.h                        \
	e-gw-message.h                          \
	e-gw-item.h                             \
	e-gw-filter.h                        

%-$(BASE_VERSION).pc: %.pc
	 cp $< $@

pkgconfigdir = $(libdir)/pkgconfig
pkgconfig_DATA = libegroupwise-$(BASE_VERSION).pc

EXTRA_DIST = $(pkgconfig_DATA:-$(BASE_VERSION).pc=.pc.in)

DISTCLEANFILES = $(pkgconfig_DATA)